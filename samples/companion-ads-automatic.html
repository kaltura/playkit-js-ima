<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    .button {
      height: 40px;
      width: 120px;
      font-size: 17px;
      margin: 10px;
    }
  </style>
  <script type="text/javascript" src="//s0.2mdn.net/instream/html5/gpt_proxy.js"></script>
  <script type='text/javascript'>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function () {
      var gads = document.createElement('script');
      gads.async = true;
      gads.type = 'text/javascript';
      gads.src = '//www.googletagservices.com/tag/js/gpt.js';
      var node = document.getElementsByTagName('script')[0];
      node.parentNode.insertBefore(gads, node);
    })();
  </script>

  <!-- Register your companion slots -->
  <script type='text/javascript'>
    googletag.cmd.push(function () {
      // Supply YOUR_NETWORK and YOUR_UNIT_PATH.
      googletag.defineSlot('/YOUR_NETWORK/YOUR_UNIT_PATH', [728, 90], 'testCompanionLong')
        .addService(googletag.companionAds())
        .addService(googletag.pubads());
      googletag.defineSlot('/YOUR_NETWORK/YOUR_UNIT_PATH', [300, 250], 'testCompanionSquare')
        .addService(googletag.companionAds())
        .addService(googletag.pubads());
      googletag.companionAds().setRefreshUnfilledSlots(true);
      googletag.pubads().enableVideoAds();
      googletag.enableServices();
    });
  </script>

  <script src="//imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
  <script src="./playkit-ima.js"></script>
</head>
<body>
<div id="player-placeholder" style="width: 640px; height: 360px;"></div>
<div id="testCompanionLong" style="width: 728px; height:90px">
  <script type="text/javascript">
    googletag.cmd.push(function () {
      googletag.display('testCompanionLong');
    });
  </script>
</div>
<div id="testCompanionSquare" style="width: 300px; height: 250px">
  <script type="text/javascript">
    googletag.cmd.push(function () {
      googletag.display('testCompanionSquare');
    });
  </script>
</div>
<button class="button" onclick="play()">Play</button>
<button class="button" onclick="pause()">Pause</button>
<button class="button" onclick="volumeUp()">Volume [+]</button>
<button class="button" onclick="volumeDown()">Volume [-]</button>
<button class="button" onclick="toggleMute()">Toggle Mute</button>
<button class="button" onclick="seek()">Seek [+5]</button>
<script>
  function play() {
    window.player.play();
  }

  function pause() {
    window.player.pause();
  }

  function volumeUp() {
    window.player.volume += 0.1;
  }

  function volumeDown() {
    window.player.volume -= 0.1;
  }

  function toggleMute() {
    window.player.muted = !window.player.muted;
  }

  function seek() {
    window.player.currentTime += 5;
  }

  window.player = Playkit.loadPlayer('player-placeholder', {
    playback: {
      playsinline: false,
      autoplay: false,
      muted: false
    },
    sources: {
      progressive: [
        {
          "mimetype": "video/mp4",
          "url": "https://cfvod.kaltura.com/pd/p/1726172/sp/172617200/serveFlavor/entryId/1_po3v31zx/v/1/ev/7/flavorId/1_67zt1djx/fileName/BBB_(Basic_Small_-_WEB_MBL_(H264_400)).mp4/name/a.mp4"
        }
      ]
    },
    plugins: {
      ima: {
        adTagUrl: 'http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpreonly&cmsid=496&vid=short_onecue&correlator=[timestamp]',
      }
    }
  });
</script>
</body>
</html>
