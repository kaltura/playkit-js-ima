<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [google.ima.CompanionAdSelectionSettings.SizeCriteria][1]
-   [CompanionsConfigObject][2]
    -   [Parameters][3]
    -   [Examples][4]
-   [CompanionAdObject][5]
    -   [Parameters][6]
-   [google.ima.AdsRenderingSettings][7]
-   [google.ima.ImaSdkSettings.VpaidMode][8]
-   [ImaConfigObject][9]
    -   [Parameters][10]
-   [AccessMode][11]
-   [OmidVendor][12]
-   [OmidAccessModesConfig][13]
    -   [Examples][14]
-   [ImaAdsController][15]
    -   [Parameters][16]
    -   [skipAd][17]
    -   [playAdNow][18]
        -   [Parameters][19]
    -   [onPlaybackEnded][20]
    -   [active][21]
    -   [done][22]
    -   [name][23]
-   [ImaEngineDecorator][24]
    -   [Parameters][25]
    -   [paused][26]
    -   [currentTime][27]
    -   [currentTime][28]
        -   [Parameters][29]
    -   [duration][30]
    -   [ended][31]
-   [Ima][32]
    -   [Parameters][33]
    -   [getEngineDecorator][34]
        -   [Parameters][35]
    -   [getMiddlewareImpl][36]
    -   [getAdsController][37]
    -   [playAdNow][38]
        -   [Parameters][39]
    -   [skipAd][40]
    -   [resumeAd][41]
    -   [pauseAd][42]
    -   [getStateMachine][43]
    -   [playOnMainVideoTag][44]
    -   [isAdPlaying][45]
    -   [loadMedia][46]
    -   [reset][47]
    -   [destroy][48]
    -   [initialUserAction][49]
    -   [onPlaybackEnded][50]
    -   [defaultConfig][51]
    -   [loadPromise][52]
    -   [isValid][53]
-   [State][54]

## google.ima.CompanionAdSelectionSettings.SizeCriteria

[google.ima.CompanionAdSelectionSettings.SizeCriteria][55]

## CompanionsConfigObject

Type: [Object][56]

### Parameters

-   `ads` **[Object][56]** Companion ads. Represented as a key-value object where the key is the ad id ([string][57]) and the value is the companion ad object ([CompanionAdObject][5]).
-   `sizeCriteria` **[google.ima.CompanionAdSelectionSettings.SizeCriteria][58]** Available choices for size selection criteria. The user can specify any of these choices for selecting companion ads. (optional, default `'SELECT_EXACT_MATCH'`)

### Examples

```javascript
{
  sizeCriteria: 'SELECT_EXACT_MATCH',
  ads: {
    testCompanionSquare: {
      width: 300,
      height: 250
    },
    testCompanionLong: {
      width: 728,
      height: 90
    }
  }
}
```

## CompanionAdObject

Type: [Object][56]

### Parameters

-   `width` **[number][59]** Width of the companion ad.
-   `height` **[number][59]** Height of the companion ad.

## google.ima.AdsRenderingSettings

[google.ima.AdsRenderingSettings][60]

## google.ima.ImaSdkSettings.VpaidMode

[google.ima.ImaSdkSettings.VpaidMode][61]

## ImaConfigObject

Type: [Object][56]

### Parameters

-   `adTagUrl` **[string][62]** Specifies the ad tag url that is requested from the ad server.
-   `adsResponse` **[string][62]?** Specifies a VAST 2.0 document to be used as the ads response instead of making a request via an ad tag url (if `adTagUrl` is not set).
-   `debug` **[boolean][63]** If set to true, loads IMA SDK in debug mode. (optional, default `false`)
-   `disableMediaPreload` **[boolean][63]** Whether to disable media pre loading while ad is playing. If set to `true`, the player will start loading the content media just after the ad break will end (incase of preroll ad). This will also overrides `config.adsRenderingSettings.restoreCustomPlaybackStateOnAdBreakComplete` no matters its value and sets it to `false`. (optional, default `false`)
-   `forceReloadMediaAfterAds` **[boolean][63]** force reload our media after ads finish. (optional, default `false`)
-   `delayInitUntilSourceSelected` **[boolean][63]** wait until the video tag loaded and then load Ima. (optional, default `false`)
-   `vpaidMode` **[google.ima.ImaSdkSettings.VpaidMode][64]** Sets VPAID playback mode See usage also in [Handling VPAID Modes][65]. (optional, default `'ENABLED'`)
-   `numRedirects` **google.ima.ImaSdkSettings.numRedirects** Specifies the maximum number of redirects before the subsequent redirects will be denied, and the ad load aborted. This applies to all VAST wrapper ads. (optional, default `4`)
-   `adsRenderingSettings` **[google.ima.AdsRenderingSettings][66]** Defines parameters that control the rendering of ads. (optional, default `{
    restoreCustomPlaybackStateOnAdBreakComplete:true,
    enablePreloading:false,
    useStyledLinearAds:false,
    useStyledNonLinearAds:true
    bitrate:-1,
    autoAlign:true
    }`)
    -   `adsRenderingSettings.useStyledLinearAds` **[boolean][63]** See usage also in [Handling VPAID Ads][67] (optional, default `false`)
-   `companions` **[CompanionsConfigObject][68]?** Defines the companion ads.
-   `locale` **[string][62]?** Sets the publisher provided locale. The locale specifies the language in which to display UI elements and can be any two-letter [ISO 639-1][69] code.
-   `showAdBreakCuePoint` **[boolean][63]?** Whether to show the ad breaks cue points.
-   `adBreakCuePointStyle` **[Object][56]?** Style options for the ad breaks cue points - See the options [Here][70].
-   `sessionId` **[string][62]?** a temporary random ID. It is used exclusively for frequency capping. A session ID must be a UUID.
-   `omidAccessModes` **[OmidAccessModesConfig][71]?** A dictionary that maps each [OmidVerificationVendor][72] to one of the [access modes][73]

## AccessMode

[different access modes for verification scripts][73]

Type: (`"FULL"` \| `"CREATIVE"` \| `"DOMAIN"` \| `"LIMITED"`)

## OmidVendor

[different verification script providers][72]

Type: (`"OTHER"` \| `"MOAT"` \| `"DOUBLEVERIFY"` \| `"INTEGRAL_AD_SCIENCE"` \| `"PIXELATE"` \| `"NIELSEN"` \| `"COMSCORE"` \| `"MEETRICS"` \| `"GOOGLE"`)

## OmidAccessModesConfig

A dictionary that maps each [OmidVerificationVendor][72] to one of the [available access modes][73]

### Examples

```javascript
{
  MOAT: 'FULL'
  PIXELATE: 'CREATIVE'
  OTHER: 'DOMAIN'
}
```

## ImaAdsController

Controller for ima plugin.

### Parameters

-   `context` **[Ima][74]** The ima plugin context.

### skipAd

Skip on an ad.

Returns **void** 

### playAdNow

Play an ad on demand.

#### Parameters

-   `adPod` **KPAdPod** The ad pod to play.

Returns **void** 

### onPlaybackEnded

On playback ended handler.

Returns **[Promise][75]&lt;void>** complete promise

### active

Whether this ads controller is active

Type: [boolean][63]

Returns **[boolean][63]** is active

### done

Whether this ads controller is done

Type: [boolean][63]

Returns **[boolean][63]** is done

### name

The controller name

Type: [string][62]

Returns **[string][62]** The name

## ImaEngineDecorator

Engine decorator for ima plugin.

### Parameters

-   `engine` **IEngine** The HTML5 engine.
-   `plugin` **[Ima][74]** The ima plugin.

### paused

Get paused state.

Type: [boolean][63]

Returns **[boolean][63]** The paused value of the engine.

### currentTime

Get the current time in seconds.

Type: [number][59]

Returns **[number][59]** The current playback time.

### currentTime

Set the current time in seconds.

Type: [number][59]

#### Parameters

-   `to` **[number][59]** The number to set in seconds.

Returns **void** 

### duration

Get the duration in seconds.

Type: [number][59]

Returns **[number][59]** The playback duration.

### ended

Get ended state

Type: [boolean][63]

Returns **[boolean][63]** media ended

## Ima

**Extends BasePlugin**

The ima plugin.

### Parameters

-   `name` **[string][62]** The plugin name.
-   `player` **Player** The player instance.
-   `config` **[ImaConfigObject][76]** The plugin config.

### getEngineDecorator

Gets the engine decorator.

#### Parameters

-   `engine` **IEngine** The engine to decorate.

Returns **IEngineDecorator** The ads api.

### getMiddlewareImpl

Gets the middleware.

Returns **ImaMiddleware** The middleware api.

### getAdsController

Gets the ads controller.

Returns **IAdsPluginController** The ads api.

### playAdNow

Plays ad on demand

#### Parameters

-   `adPod` **KPAdPod** The ad pod to play.

Returns **void** 

### skipAd

Skips on an ad.

Returns **void** 

### resumeAd

Resuming the ad.

Returns **DeferredPromise** The promise which when resolved starts the next handler in the middleware chain.

### pauseAd

Pausing the ad.

Returns **DeferredPromise** The promise which when resolved starts the next handler in the middleware chain.

### getStateMachine

Gets the state machine.

Returns **any** The state machine.

### playOnMainVideoTag

Gets the indicator if ads playing on the main video tag

Returns **[boolean][63]** if ads playing on the main video tag.

### isAdPlaying

Gets the indicator if ads still playing.

Returns **[boolean][63]** if ads still playing.

### loadMedia

Prepare the plugin before media is loaded.

Returns **void** 

### reset

Resets the plugin.

Returns **void** 

### destroy

Destroys the plugin.

Returns **void** 

### initialUserAction

Initialize the ads for the first time.

Returns **DeferredPromise?** The promise which when resolved starts the next handler in the middleware chain.

### onPlaybackEnded

Ended event handler.

Returns **[Promise][75]&lt;void>** complete promise

### defaultConfig

The default configuration of the plugin.

Type: [Object][56]

### loadPromise

Promise for loading the plugin.
Will be resolved after:
1) Ima script has been loaded in the page.
2) The ads manager has been loaded and ready to start.

Type: [Promise][75]&lt;any>

### isValid

Whether the ima plugin is valid.

## State

The ima plugin possible states.

Type: [Object][56]

[1]: #googleimacompanionadselectionsettingssizecriteria

[2]: #companionsconfigobject

[3]: #parameters

[4]: #examples

[5]: #companionadobject

[6]: #parameters-1

[7]: #googleimaadsrenderingsettings

[8]: #googleimaimasdksettingsvpaidmode

[9]: #imaconfigobject

[10]: #parameters-2

[11]: #accessmode

[12]: #omidvendor

[13]: #omidaccessmodesconfig

[14]: #examples-1

[15]: #imaadscontroller

[16]: #parameters-3

[17]: #skipad

[18]: #playadnow

[19]: #parameters-4

[20]: #onplaybackended

[21]: #active

[22]: #done

[23]: #name

[24]: #imaenginedecorator

[25]: #parameters-5

[26]: #paused

[27]: #currenttime

[28]: #currenttime-1

[29]: #parameters-6

[30]: #duration

[31]: #ended

[32]: #ima

[33]: #parameters-7

[34]: #getenginedecorator

[35]: #parameters-8

[36]: #getmiddlewareimpl

[37]: #getadscontroller

[38]: #playadnow-1

[39]: #parameters-9

[40]: #skipad-1

[41]: #resumead

[42]: #pausead

[43]: #getstatemachine

[44]: #playonmainvideotag

[45]: #isadplaying

[46]: #loadmedia

[47]: #reset

[48]: #destroy

[49]: #initialuseraction

[50]: #onplaybackended-1

[51]: #defaultconfig

[52]: #loadpromise

[53]: #isvalid

[54]: #state

[55]: https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.CompanionAdSelectionSettings.SizeCriteria

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[58]: #googleimacompanionadselectionsettingssizecriteria

[59]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[60]: https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.AdsRenderingSettings

[61]: https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/apis#ima.ImaSdkSettings.VpaidMode

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[63]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[64]: #googleimaimasdksettingsvpaidmode

[65]: https://github.com/kaltura/playkit-js-ima/blob/master/docs/vpaid.md#handling-vpaid-modes

[66]: #googleimaadsrenderingsettings

[67]: https://github.com/kaltura/playkit-js-ima/blob/master/docs/vpaid.md#handling-vpaid-ads

[68]: #companionsconfigobject

[69]: https://www.loc.gov/standards/iso639-2/php/English_list.php

[70]: https://github.com/kaltura/playkit-js-timeline/blob/main/docs/types.md#cuepointoptionsobject

[71]: #omidaccessmodesconfig

[72]: https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima#.OmidVerificationVendor

[73]: https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/omsdk#access_modes

[74]: #ima

[75]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[76]: #imaconfigobject
